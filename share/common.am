##
## @file
##

# compile and link flags
ACLOCAL_AMFLAGS = -I m4
AM_CXXFLAGS = -include precompile.hpp

# precompile the Birch compiler library header
precompile.hpp.pch: precompile.hpp
	mkdir -p $(DEPDIR) && \
	$(CXX) -M $(DEFS) -std=c++14 -Wno-pragma-once-outside-header -MF $(DEPDIR)/precompile.Plo -MT $@ $< && \
	$(CXX) $(DEFS) $(CXXFLAGS) -std=c++14 -Wno-pragma-once-outside-header -o $@ $<

BUILT_SOURCES = precompile.hpp.pch
CLEANFILES = precompile.hpp.pch

include $(DEPDIR)/precompile.Plo
